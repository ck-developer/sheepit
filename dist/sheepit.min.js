!function(e){jQuery.fn.sheepIt=function(t){var n,r,o,i,a,u,f,d,s,m,l,c,p,v,h,F,C,x,g,y,S,A,w,b,I,_,R,N,L,j,k,M,O,D,Q,T,B,W,E,P,q,z,G,H,J,K,U,V,X,Y,Z,$,ee,te,ne,re,oe,ie,ae,ue,fe,de,se,me,le,ce,pe,ve,he,Fe,Ce,xe;return Fe=e(this).first(),h=function(){var e;return e=void 0,"function"==typeof t.beforeClone&&t.beforeClone(Fe,Ce),e=Ce.cloneWithAttribut(!0),"function"==typeof t.afterClone&&t.afterClone(Fe,e),e.getSource=function(){return Fe},e},m=function(e){e.preventDefault(),r()},l=function(e){e.preventDefault(),""!==u.value&&a(u.attr("value"))},p=function(n){n.preventDefault(),"function"==typeof t.beforeRemoveCurrent&&t.beforeRemoveCurrent(Fe),t.removeCurrentConfirmation?confirm(t.removeCurrentConfirmationMsg)&&se(e(this).data("removableClone")):se(e(this).data("removableClone")),"function"==typeof t.afterRemoveCurrent&&t.afterRemoveCurrent(Fe)},v=function(e){e.preventDefault(),t.removeLastConfirmation?confirm(t.removeLastConfirmationMsg)&&ce():ce()},c=function(e){e.preventDefault(),t.removeAllConfirmation?confirm(t.removeAllConfirmationMsg)&&fe():fe()},P=function(e,t){var n,r;return(r=e.attr(t+"template"))?unescape(r):(n=e.attr(t),e.attr(t+"template",escape(n)),n)},te=function(n,r){n.find(R).each(function(){var o,i,a,u,f,d,s;s=e(this),i=P(s,"id"),u=P(s,"name"),o=s.attr("id"),a=s.attr("name"),d=u.replace(t.indexFormat,r),s.attr("name",d),f=i.replace(t.indexFormat,r),n.find("label[for='"+o+"']").each(function(){e(this).attr("for",f)}),s.attr("id",f)})},oe=function(e,t){pe(e,t+1)},pe=function(e,n){return e.find(t.labelSelector).html(n),!0},T=function(e){return e.find(t.labelSelector).html()},ee=function(){var e;H()?(1===O()?(ue.hideIf(),le.showIf()):(ue.showIf(),le.showIf()),e="",t.allowRemoveCurrent?(e=Fe.find(t.removeCurrentSelector),s()?e.show():e.hide()):(e=Fe.find(t.removeCurrentSelector),e.hide())):(le.hideIf(),ue.hideIf()),f()?(n.showIf(),o.showIf()):(n.hideIf(),o.hideIf()),s()||(le.hideIf(),ue.hideIf()),"none"!==n.css("display")||"none"!==o.css("display")||"none"!==ue.css("display")||"none"!==le.css("display")?F.show():F.hide()},re=function(){var e,n;if(H()){if(Z.hide(),t.continuousIndex)for(n=0,e=j();;)if(ne(e,n),n++,e=W(e),e===!1)break}else Z.show()},ne=function(e,n){var r,o,i;return"undefined"==typeof n&&(n=D()),r=P(e,"id"),e.attr("id")&&e.attr("id",r+n),te(e,n),oe(e,n),-1!==e.html().indexOf(t.indexFormat)&&(o=new RegExp(t.indexFormat,"ig"),e.html(e.html().replace(o,n))),i=e.find(t.removeCurrentSelector),t.allowRemoveCurrent?i.show():i.hide(),e},$=function(){re(),ee()},r=function(n,r){var o,i,a,u,d,s,m,l;if("undefined"==typeof n&&(n=!0),"undefined"==typeof r&&(r=!1),"function"==typeof t.beforeAdd&&t.beforeAdd(Fe),d=!1,r){if("string"==typeof r)d=e("#"+r);else{if("object"!=typeof r)return!1;d=r}d.remove()}else d=h();if(f()&&d){if(d=ne(d),s=d.find(t.removeCurrentSelector).first(),s.click(p),s.data("removableClone",d),d.data("formIndex",D()),d.data("previousSeparator",!1),d.data("nextSeparator",!1),d.data("previousForm",!1),d.data("nextForm",!1),H()&&(i=B(),i.data("nextForm",d),d.data("previousForm",i),t.separator&&(m=G(),m.insertAfter(i),i.data("nextSeparator",m),d.data("previousSeparator",m))),"after"===t.insertNewForms?d.insertBefore(Z):d.insertAfter(Z),t.nestedForms.length>0){l=0,u=[];for(l in t.nestedForms)l=l,"undefined"!=typeof t.nestedForms[l].id&&"undefined"!=typeof t.nestedForms[l].options&&(t.nestedForms[l].isNestedForm=!0,t.nestedForms[l].parentForm=Fe,o=t.nestedForms[l].id.replace(t.indexFormat,d.data("formIndex")),a=e("#"+o).sheepIt(t.nestedForms[l].options),u.push(a));d.data("nestedForms",u)}return S(d),N.push(d),(n||t.continuousIndex)&&$(),"function"==typeof t.afterAdd&&t.afterAdd(Fe,d),!0}return!1},a=function(e,t){var n;if("undefined"!=typeof e)for(e=parseFloat(e),n=1,n=1;e>=n;)r(t),n++},ce=function(e){return"undefined"==typeof e&&(e=!0),s()?(me(),e&&$(),!0):!1},fe=function(e){var t;if("undefined"==typeof e&&(e=!0),d()){t=[];for(t in N)t=t,N[t]&&me(N[t]);return e&&$(),!0}return!1},se=function(e,t){return"undefined"==typeof t&&(t=!0),s()?(me(e),t&&$(),!0):!1},me=function(e){var t;return"undefined"==typeof e&&(e=B()),t=e.data("formIndex"),e.data("previousSeparator")&&e.data("nextSeparator")?(e.data("previousSeparator").remove(),e.data("previousForm").data("nextSeparator",e.data("nextSeparator"))):e.data("previousSeparator")&&!e.data("nextSeparator")?(e.data("previousSeparator").remove(),e.data("previousForm").data("nextSeparator",!1)):!e.data("previousSeparator")&&e.data("nextSeparator")&&(e.data("nextSeparator").remove(),e.data("nextForm").data("previousSeparator",!1)),e.data("previousForm")&&e.data("previousForm").data("nextForm",e.data("nextForm")),e.data("nextForm")&&e.data("nextForm").data("previousForm",e.data("previousForm")),N[t]=!1,e.remove(),!0},x=function(){return U},Y=function(){var e,t,n;if(n!==!1){if(N.length>1){for(e=0,t=parseFloat(n+1),e=t;e<N.length;){if(N[e])return n=e,!0;e++}return!1}return!1}return!1},ae=function(){var e,t,n;if(n!==!1){if(N.length>1){for(e=0,t=parseFloat(n-1),e=t;e>=0;){if(N[e])return n=e,!0;e--}return!1}return!1}return!1},_=function(){var e,t;if(e=!1,N.length>0){t=0;for(t in N)if(t=t,N[t])return e=t,!0;return!1}return!1},X=function(){var e,t;if(t=!1,N.length>0){if(N[N.length-1])return t=N.length-1,!0;for(e=0,e=N.length-1;e>=0;){if(N[e])return t=e,!0;e--}return!1}return!1},C=function(){var e,t;if(N.length>0){e=0,t=[];for(t in N)t=t,N[t]&&e++;return e}return 0},he=function(e){var t;return"undefined"!=typeof e?(t=Q(e),t!==!1?!0:!1):!1},Q=function(e){var t,n,r;r=0,t=0,n=!1;for(r in N)r=r,N[r]&&(t++,e===t&&(n=r));return n},q=function(e){var t,n;for(n=0,t=0,n=0;e>=n;)N[n]&&t++,n++;return t},D=function(){return N.length},O=function(){return C()},j=function(){return _()!==!1?L():!1},B=function(){return X()!==!1?L():!1},W=function(e){return e?e.data("nextForm"):x()!==!1&&Y()!==!1?L():!1},z=function(e){return e?e.data("previousForm"):x()!==!1&&ae()!==!1?L():!1},L=function(){return x()!==!1?N[x()]:!1},k=function(e){return H()?"undefined"!=typeof e?(he(e),L()):B():!1},M=function(){var e,t;if(H()){for(_(),t=0,e=[],t=0;t<O();)e.push(L()),Y(),t++;return e}return!1},H=function(){return O()>0?!0:!1},f=function(){return 0===t.maxFormsCount?!0:O()<t.maxFormsCount?!0:!1},s=function(){return O()>t.minFormsCount?!0:!1},d=function(){return 0===t.minFormsCount?!0:!1},V=function(t){return e("#"+t.attr("id")).length>0?!0:!1},w=function(n,o){var i;i="","number"==typeof n?(n++,n>O()&&r(),i=k(n),b(i,o)):"string"==typeof n&&(i=e("#"+n),b(i,o)),"function"==typeof t.afterFill&&t.afterFill(Fe,i,o)},b=function(t,n){var r;r=0,e.each(n,function(e,n){var o,i,a,u,f,d;if(a=Fe.attr("id"),u=t.data("formIndex"),-1!==e.indexOf("#form#")||-1!==e.indexOf("#index#")?(e=e.replace("#form#",a),e=e.replace("#index#",u)):e=a+"_"+u+"_"+e,o=t.find(':input[id="'+e+'"]'),0===o.length&&(o=t.find(':input[name="'+e+'"]'),0===o.length&&(o=t.find(':input[name="'+e+'[]"]'))),o.length>0)if(d=!1,"object"==typeof n&&(d=!0),f=!1,o.length>1&&(f=!0),f)if(d){i=[],i.fields=[],i.values=[],r=0;for(r in n)r=r,i.fields.push(o.filter('[value="'+n[r]+'"]')),i.values.push(n[r]);r=0;for(r in i.fields)r=r,I(i.fields[r],i.values[r])}else I(o.filter('[value="'+n+'"]',n));else if(d){r=0;for(r in n)r=r,I(o,n[r])}else I(o,n);else if("undefined"!=typeof t.data("nestedForms")&&t.data("nestedForms").length>0){r=0;for(r in t.data("nestedForms"))r=r,e===t.data("nestedForms")[r].attr("id")&&"object"==typeof n&&t.data("nestedForms")[r].inject(n)}})},I=function(t,n){var r;return r=t.attr("type"),"text"===r||"hidden"===r||"password"===r?(t.attr("value",n),!0):"textarea"===r?(t.text(n),!0):"checkbox"===r||"radio"===r?(t.attr("checked","checked"),!0):"select-one"===r||"select-multiple"===r?(t.find("option").each(function(){(e(this).text()===n||e(this).attr("value")===n)&&e(this).attr("selected","selected")}),!0):!1},J=function(){return""!==t.separator?!0:!1},G=function(){return J()?e(t.separator):!1},ve=function(n){t=[],t=e.extend(g,n),ie(t)},E=function(){return t},K=function(){var n,o,i,a,u,f,d,s,p,h,F,C,x;if(Fe.hide(),n=e(t.addSelector),o=e(t.addNSelector),a=e(t.addNInputSelector),i=e(t.addNButtonSelector),h=e(t.removeLastSelector),p=e(t.removeCurrentSelector),s=e(t.removeAllSelector),f=e(t.controlsSelector),0===n.length&&(t.allowAdd=!1),0===o.length&&(t.allowAddN=!1),0===h.length&&(t.allowRemoveLast=!1),0===s.length&&(t.allowRemoveAll=!1),y(n,t.allowAdd,m),y(o,t.allowAddN,l,i),y(h,t.allowRemoveLast,v),y(s,t.allowRemoveAll,c),n.init(),o.init(),h.init(),s.init(),C=e(t.formTemplateSelector),d=e(t.noFormsTemplateSelector),F=C.cloneWithAttribut(!0),C.remove(),x=0,t.pregeneratedForms.length>0){x=0;for(x in t.pregeneratedForms)x=x,r(!1,t.pregeneratedForms[x])}if(t.iniFormsCount>O())for(x=0,u=t.iniFormsCount-O(),x=1;u>=x;)r(!1),x++;t.data&&Fe.inject(t.data),$(),Fe.show()},y=function(t,n,r,o){"undefined"==typeof o&&(o=!1),e.extend(t,{hideIf:function(e,r){n&&t.hide(e,r)},showIf:function(e,r){n&&t.show(e,r)},init:function(){n?(o?o.click(r):t.click(r),t.show()):t.hide()}})},A=function(i){e.extend(i,{getAddControl:function(){return n},getAddNControl:function(){return o},getRemoveLastControl:function(){return le},getRemoveAllControl:function(){return ue},getOptions:function(){return E()},getOption:function(e){return t[e]},setOption:function(e,n){return"undefined"!=typeof e&&"undefined"!=typeof n?(t[e]=n,t[e]):!1},getForms:function(){return M()},getAllForms:function(){return M()},getForm:function(e){return"undefined"!=typeof e&&e++,k(e)},getLastForm:function(){return k()},getFirstForm:function(){return _(),L()},addForm:function(){return r()},addNForms:function(e){return a(e)},getFormsCount:function(){return O()},hasForms:function(){return H()},canAddForm:function(){return f()},canRemoveAllForms:function(){return d()},canRemoveForm:function(){return s()},removeAllForms:function(){return fe()},removeLastForm:function(){return ce()},removeFirstForm:function(){return _(),me(L())},removeForm:function(e){return"undefined"!=typeof e&&e++,me(k(e))},inject:function(t){e.each(t,e.proxy(w,i))}})},S=function(t){e.extend(t,{setLabel:function(e){return pe(t,e)},getLabel:function(){return T(t)},inject:function(e){b(t,e)},getNestedForms:function(){return t.data("nestedForms")},getNestedForm:function(e){return t.data("nestedForms")[e]},getPosition:function(){return q(t.data("formIndex"))},getPreviousForm:function(){return z(t)},getNextForm:function(){return W(t)},removeForm:function(){return me(t)}})},ie=function(e){e.maxFormsCount>0?(e.maxFormsCount<e.minFormsCount&&(e.maxFormsCount=e.minFormsCount),(e.iniFormsCount<e.minFormsCount||e.iniFormsCount>e.maxFormsCount)&&(e.iniFormsCount=e.minFormsCount)):e.iniFormsCount<e.minFormsCount&&(e.iniFormsCount=e.minFormsCount),d()||(e.allowRemoveAll=!1)},A(Fe),n=void 0,o=void 0,u=void 0,i=void 0,le=void 0,de=void 0,ue=void 0,F=void 0,Ce=void 0,xe=void 0,Z=void 0,R="input, checkbox, select, textarea",N=[],U=!1,g={addSelector:"#"+e(this).attr("id")+"_add",addNSelector:"#"+e(this).attr("id")+"_add_n",addNInputSelector:"#"+e(this).attr("id")+"_add_n_input",addNButtonSelector:"#"+e(this).attr("id")+"_add_n_button",removeLastSelector:"#"+e(this).attr("id")+"_remove_last",removeCurrentSelector:"#"+e(this).attr("id")+"_remove_current",removeAllSelector:"#"+e(this).attr("id")+"_remove_all",controlsSelector:"#"+e(this).attr("id")+"_controls",labelSelector:"#"+e(this).attr("id")+"_label",allowRemoveLast:!0,allowRemoveCurrent:!0,allowRemoveAll:!1,allowAdd:!0,allowAddN:!1,removeLastConfirmation:!1,removeCurrentConfirmation:!1,removeAllConfirmation:!0,removeLastConfirmationMsg:"Are you sure?",removeCurrentConfirmationMsg:"Are you sure?",removeAllConfirmationMsg:"Are you sure?",formTemplateSelector:"#"+e(this).attr("id")+"_template",noFormsTemplateSelector:"#"+e(this).attr("id")+"_noforms_template",separator:'<div style="width:100%; border-top:1px solid #ff0000; margin: 10px 0px;"></div>',iniFormsCount:1,maxFormsCount:20,minFormsCount:1,incrementCount:1,noFormsMsg:"No forms to display",indexFormat:"#index#",data:[],pregeneratedForms:[],nestedForms:[],isNestedForm:!1,parentForm:{},beforeClone:function(){},afterClone:function(){},beforeAdd:function(){},afterAdd:function(){},afterFill:function(){},afterRemoveCurrent:function(){},beforeRemoveCurrent:function(){},insertNewForms:"after",continuousIndex:!0},ve(t),K(),Fe},jQuery.fn.cloneWithAttribut=function(t){var n;return jQuery.support.noCloneEvent?e(this).clone(t):(e(this).find("*").each(function(){e(this).data("name",e(this).attr("name"))}),n=e(this).clone(t),n.find("*").each(function(){e(this).attr("name",e(this).data("name"))}),n)}}(jQuery);
//# sourceMappingURL=sheepit.min.js.map